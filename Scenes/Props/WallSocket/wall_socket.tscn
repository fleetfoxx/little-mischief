[gd_scene load_steps=9 format=3 uid="uid://blxqf78hh71nt"]

[ext_resource type="Script" uid="uid://bfgpa56fpg002" path="res://Scenes/Props/WallSocket/wall_socket.gd" id="1_uxllp"]
[ext_resource type="PackedScene" uid="uid://3k2y0b8uiron" path="res://Scenes/Bedroom/socket.glb" id="1_xex4s"]
[ext_resource type="AudioStream" uid="uid://2l21ski0op30" path="res://SFX/Bluezone_BC0299_electricity_surge_discharge_electrical_arc_crackling_002_01.wav" id="3_044lc"]

[sub_resource type="BoxShape3D" id="BoxShape3D_uxllp"]
size = Vector3(0.0292969, 0.185791, 0.12915)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_xex4s"]
direction = Vector3(-1, 0, 0)
initial_velocity_max = 5.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uxllp"]
albedo_color = Color(1, 1, 0, 1)
emission_enabled = true
emission = Color(1, 1, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_044lc"]
material = SubResource("StandardMaterial3D_uxllp")
radius = 0.01
height = 0.02

[sub_resource type="BoxShape3D" id="BoxShape3D_044lc"]
size = Vector3(0.5, 1, 1)

[node name="WallSocket" type="Area3D" node_paths=PackedStringArray("_sparkArea", "_sparkParticles", "_sparkSFX") groups=["ignition-source"]]
collision_layer = 64
collision_mask = 128
script = ExtResource("1_uxllp")
_sparkArea = NodePath("SparkArea")
_sparkParticles = NodePath("SparkParticles")
_sparkSFX = NodePath("SparkSFX")

[node name="socket2" parent="." instance=ExtResource("1_xex4s")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_uxllp")

[node name="SparkParticles" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000311062, 0, 0)
amount = 16
explosiveness = 0.81
randomness = 0.84
process_material = SubResource("ParticleProcessMaterial_xex4s")
draw_pass_1 = SubResource("SphereMesh_044lc")

[node name="SparkArea" type="Area3D" parent="."]
collision_layer = 16
collision_mask = 32

[node name="CollisionShape3D" type="CollisionShape3D" parent="SparkArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25, 0, 0)
shape = SubResource("BoxShape3D_044lc")
debug_color = Color(0.671141, 0.508701, 0, 0.42)

[node name="SparkSFX" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_044lc")
volume_db = -43.111
pitch_scale = 1.2
